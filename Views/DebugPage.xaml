<Page
    Background="{ThemeResource LayerFillColorDefaultBrush}"
    FontFamily="{StaticResource AppFontFamily}"
    mc:Ignorable="d"
    x:Class="GitMC.Views.DebugPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <!--  File selecting area  -->
        <StackPanel
            Grid.Row="0"
            Margin="0,0,0,20"
            Orientation="Vertical"
            Spacing="10">
            <TextBlock
                FontSize="20"
                FontWeight="Bold"
                Text="NBT/DAT/Anvil File Debugging Tool" />

            <StackPanel Orientation="Horizontal" Spacing="10">
                <Button
                    Click="SelectFileButton_Click"
                    Content="Select File"
                    MinWidth="100" />
                <TextBlock
                    Foreground="Gray"
                    Text="No file selected"
                    VerticalAlignment="Center"
                    x:Name="SelectedFileTextBlock" />
            </StackPanel>

            <TextBlock
                FontSize="11"
                Foreground="DarkGray"
                Text=""
                VerticalAlignment="Center"
                x:Name="FileInfoTextBlock" />
        </StackPanel>

        <!--  Action buttons area  -->
        <StackPanel
            Grid.Row="1"
            Margin="0,0,0,20"
            Orientation="Vertical"
            Spacing="15">
            <!--  NBT/DAT file actions  -->
            <StackPanel Orientation="Horizontal" Spacing="10">
                <TextBlock
                    FontWeight="SemiBold"
                    Text="NBT/DAT Actions:"
                    VerticalAlignment="Center"
                    Width="120" />
                <Button
                    Click="ConvertToSnbtButton_Click"
                    Content="Convert to SNBT"
                    IsEnabled="False"
                    MinWidth="120"
                    x:Name="ConvertToSnbtButton" />
                <Button
                    Click="ConvertToNbtButton_Click"
                    Content="Convert back to NBT"
                    IsEnabled="False"
                    MinWidth="120"
                    x:Name="ConvertToNbtButton" />
                <Button
                    Click="ValidateFileButton_Click"
                    Content="Validate File"
                    IsEnabled="False"
                    MinWidth="100"
                    x:Name="ValidateFileButton" />
            </StackPanel>

            <!--  Anvil file actions  -->
            <StackPanel
                Orientation="Horizontal"
                Spacing="10"
                Visibility="Collapsed"
                x:Name="AnvilActionsPanel">
                <TextBlock
                    FontWeight="SemiBold"
                    Text="Anvil Actions:"
                    VerticalAlignment="Center"
                    Width="120" />
                <Button
                    Click="ShowRegionInfoButton_Click"
                    Content="Show Region Info"
                    IsEnabled="False"
                    MinWidth="120"
                    x:Name="ShowRegionInfoButton" />
                <Button
                    Click="ListChunksButton_Click"
                    Content="List Chunks"
                    IsEnabled="False"
                    MinWidth="120"
                    x:Name="ListChunksButton" />
                <Button
                    Click="ExtractChunkButton_Click"
                    Content="Extract Chunk"
                    IsEnabled="False"
                    MinWidth="120"
                    x:Name="ExtractChunkButton" />
                <Button
                    Click="ConvertMcaToSnbtButton_Click"
                    Content="Convert to SNBT"
                    IsEnabled="False"
                    MinWidth="120"
                    x:Name="ConvertMcaToSnbtButton" />
                <Button
                    Click="ConvertSnbtToMcaButton_Click"
                    Content="Convert to MCA"
                    IsEnabled="False"
                    MinWidth="120"
                    x:Name="ConvertSnbtToMcaButton" />
            </StackPanel>

            <!--  Chunk coordinates input  -->
            <StackPanel
                Orientation="Horizontal"
                Spacing="10"
                Visibility="Collapsed"
                x:Name="ChunkInputPanel">
                <TextBlock
                    FontWeight="SemiBold"
                    Text="Chunk Coords:"
                    VerticalAlignment="Center"
                    Width="120" />
                <TextBlock Text="X:" VerticalAlignment="Center" />
                <NumberBox
                    SpinButtonPlacementMode="Inline"
                    Value="0"
                    Width="80"
                    x:Name="ChunkXNumberBox" />
                <TextBlock Text="Z:" VerticalAlignment="Center" />
                <NumberBox
                    SpinButtonPlacementMode="Inline"
                    Value="0"
                    Width="80"
                    x:Name="ChunkZNumberBox" />
            </StackPanel>

            <!--  General actions  -->
            <StackPanel Orientation="Horizontal" Spacing="10">
                <TextBlock
                    FontWeight="SemiBold"
                    Text="General:"
                    VerticalAlignment="Center"
                    Width="120" />
                <Button
                    Click="ClearOutputButton_Click"
                    Content="Clear Output"
                    MinWidth="100"
                    x:Name="ClearOutputButton" />
                <Button
                    Click="RunRoundTripTestButton_Click"
                    Content="Run Round-Trip Test"
                    MinWidth="150"
                    x:Name="RunRoundTripTestButton" />
            </StackPanel>
        </StackPanel>

        <!--  Output area  -->
        <ScrollViewer
            Grid.Row="2"
            HorizontalScrollBarVisibility="Auto"
            VerticalScrollBarVisibility="Auto"
            ZoomMode="Enabled">
            <TextBox
                AcceptsReturn="True"
                Background="{ThemeResource LayerFillColorDefaultBrush}"
                FontFamily="Consolas"
                FontSize="12"
                IsReadOnly="True"
                MinHeight="400"
                Padding="10"
                Text="Ready...Select an NBT, DAT, or Anvil (.mca/.mcc) file to start debugging."
                TextWrapping="Wrap"
                x:Name="OutputTextBox" />
        </ScrollViewer>
    </Grid>
</Page>