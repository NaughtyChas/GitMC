<Page
    Background="{ThemeResource LayerFillColorDefaultBrush}"
    FontFamily="{StaticResource AppFontFamily}"
    mc:Ignorable="d"
    x:Class="GitMC.Views.OnboardingPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="using:GitMC.Extensions"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

    <Page.Resources />

    <ScrollViewer>
        <Grid Margin="24,0,24,24">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="*" />
            </Grid.RowDefinitions>

            <!--  Compact Header Section  -->
            <StackPanel
                Grid.Row="0"
                HorizontalAlignment="Center"
                Margin="0,24,0,16">
                <!--  Horizontal Layout: Icon + Text  -->
                <Grid HorizontalAlignment="Center">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="16" />
                        <ColumnDefinition Width="Auto" />
                    </Grid.ColumnDefinitions>

                    <!--  App Icon  -->
                    <Border
                        Background="{ThemeResource ControlFillColorDefaultBrush}"
                        CornerRadius="12"
                        Grid.Column="0"
                        Height="80"
                        VerticalAlignment="Top"
                        Width="80">
                        <StackPanel Padding="8">
                            <ImageIcon Source="../Assets/Icons/mcIcon.png" />
                        </StackPanel>
                    </Border>

                    <!--  Title and Description  -->
                    <StackPanel Grid.Column="2" VerticalAlignment="Center">
                        <TextBlock
                            FontSize="26"
                            FontWeight="SemiBold"
                            Margin="0,0,0,4"
                            Text="{local:Localize Key=Welcome_Title}" />
                        <TextBlock
                            FontSize="18"
                            Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                            Text="{local:Localize Key=App_Description}" />
                    </StackPanel>
                </Grid>
            </StackPanel>

            <!--  Main Content Grid  -->
            <Grid Grid.Row="1" Margin="24,0,24,0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="2*" />
                    <ColumnDefinition Width="32" />
                    <ColumnDefinition Width="1.2*" />
                </Grid.ColumnDefinitions>

                <!--  Left Panel - Getting Started  -->
                <Border
                    Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                    BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                    BorderThickness="1"
                    CornerRadius="12"
                    Grid.Column="0"
                    Padding="24">
                    <StackPanel>
                        <StackPanel Margin="0,0,0,24" Orientation="Horizontal">
                            <FontIcon
                                FontSize="18"
                                Glyph="&#xE8FD;"
                                Margin="0,0,12,0" />
                            <TextBlock
                                FontSize="18"
                                FontWeight="SemiBold"
                                Text="{local:Localize Key=Welcome_GettingStarted}" />
                        </StackPanel>

                        <!--  Timeline Container  -->
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="48" />
                                <ColumnDefinition Width="16" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                            </Grid.RowDefinitions>

                            <!--  Vertical Timeline Line  -->
                            <Rectangle
                                Fill="#E1E1E1"
                                Grid.Column="0"
                                Grid.Row="0"
                                Grid.RowSpan="5"
                                HorizontalAlignment="Center"
                                Margin="0,0,0,16"
                                Width="2" />

                            <!--  Step 1: Configure GitMC Language  -->
                            <Grid
                                Grid.Column="0"
                                Grid.Row="0"
                                Height="48"
                                Margin="0,0,0,0"
                                VerticalAlignment="Top"
                                Width="48">
                                <Border
                                    Background="{ThemeResource ControlFillColorDefaultBrush}"
                                    CornerRadius="24"
                                    Height="48"
                                    Width="48" />
                                <Border
                                    Background="#0078D4"
                                    CornerRadius="16"
                                    Height="32"
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Center"
                                    Width="32"
                                    x:Name="Step1Circle">
                                    <Grid>
                                        <TextBlock
                                            FontWeight="SemiBold"
                                            Foreground="White"
                                            HorizontalAlignment="Center"
                                            Text="1"
                                            VerticalAlignment="Center"
                                            x:Name="Step1NumberText" />
                                        <FontIcon
                                            FontSize="14"
                                            Foreground="White"
                                            Glyph="&#xE73E;"
                                            HorizontalAlignment="Center"
                                            VerticalAlignment="Center"
                                            Visibility="Collapsed"
                                            x:Name="Step1CheckIcon" />
                                    </Grid>
                                </Border>
                            </Grid>

                            <!--  Step 1 Full Content  -->
                            <StackPanel
                                Grid.Column="2"
                                Grid.Row="0"
                                Margin="0,0,0,32"
                                VerticalAlignment="Top"
                                x:Name="Step1Content">
                                <TextBlock
                                    FontWeight="SemiBold"
                                    Margin="0,0,0,4"
                                    Text="{local:Localize Key=Setup_Step1_Title}" />
                                <TextBlock
                                    Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                                    Margin="0,0,0,12"
                                    Text="{local:Localize Key=Setup_Step1_Description}"
                                    TextWrapping="Wrap" />
                                <StackPanel Orientation="Horizontal">
                                    <Button
                                        Click="LanguageSettingsButton_Click"
                                        HorizontalAlignment="Left"
                                        Margin="0,0,8,0"
                                        Padding="12,8"
                                        x:Name="LanguageSettingsButton">
                                        <StackPanel Orientation="Horizontal">
                                            <FontIcon
                                                FontSize="12"
                                                Glyph="&#xE774;"
                                                Margin="0,0,6,0" />
                                            <TextBlock Text="{local:Localize Key=Setup_Step1_Button}" />
                                        </StackPanel>
                                    </Button>
                                    <Button
                                        Click="SkipLanguageButton_Click"
                                        HorizontalAlignment="Left"
                                        Padding="12,8"
                                        x:Name="SkipLanguageButton">
                                        <StackPanel Orientation="Horizontal">
                                            <FontIcon
                                                FontSize="12"
                                                Glyph="&#xE72A;"
                                                Margin="0,0,6,0" />
                                            <TextBlock Text="{local:Localize Key=UI_Skip}" />
                                        </StackPanel>
                                    </Button>
                                </StackPanel>
                            </StackPanel>

                            <!--  Step 1 Collapsed Content  -->
                            <StackPanel
                                Grid.Column="2"
                                Grid.Row="0"
                                Margin="0,0,0,32"
                                VerticalAlignment="Center"
                                Visibility="Collapsed"
                                x:Name="Step1CollapsedContent">
                                <TextBlock
                                    FontWeight="SemiBold"
                                    Margin="0,0,0,4"
                                    Text="{local:Localize Key=Setup_Step1_Title}" />
                                <TextBlock
                                    Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                                    Text="{local:Localize Key=UI_SetPreferredLanguage}"
                                    TextWrapping="Wrap" />
                            </StackPanel>

                            <!--  Step 2: Install Git  -->
                            <Grid
                                Grid.Column="0"
                                Grid.Row="1"
                                Height="48"
                                Margin="0,12,0,0"
                                VerticalAlignment="Center"
                                Width="48">
                                <Border
                                    Background="{ThemeResource ControlFillColorDefaultBrush}"
                                    CornerRadius="24"
                                    Height="48"
                                    Width="48" />
                                <Border
                                    Background="{ThemeResource SolidBackgroundFillColorTertiaryBrush}"
                                    CornerRadius="16"
                                    Height="32"
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Center"
                                    Width="32"
                                    x:Name="Step2Circle">
                                    <Grid>
                                        <TextBlock
                                            FontWeight="SemiBold"
                                            Foreground="White"
                                            HorizontalAlignment="Center"
                                            Text="2"
                                            VerticalAlignment="Center"
                                            x:Name="Step2NumberText" />
                                        <FontIcon
                                            FontSize="14"
                                            Foreground="White"
                                            Glyph="&#xE73E;"
                                            HorizontalAlignment="Center"
                                            VerticalAlignment="Center"
                                            Visibility="Collapsed"
                                            x:Name="Step2CheckIcon" />
                                    </Grid>
                                </Border>
                            </Grid>

                            <!--  Step 2 Full Content  -->
                            <StackPanel
                                Grid.Column="2"
                                Grid.Row="1"
                                Margin="0,0,0,32"
                                VerticalAlignment="Top"
                                Visibility="Collapsed"
                                x:Name="Step2Content">
                                <TextBlock
                                    FontWeight="SemiBold"
                                    Margin="0,0,0,4"
                                    Text="{local:Localize Key=Setup_Step2_Title}" />
                                <!--  Git Found State  -->
                                <TextBlock
                                    Foreground="#107C10"
                                    Margin="0,0,0,4"
                                    Text="{local:Localize Key=Setup_Step2_Found}"
                                    TextWrapping="Wrap"
                                    Visibility="Collapsed"
                                    x:Name="GitFoundText" />
                                <!--  Git Not Found State  -->
                                <StackPanel x:Name="GitNotFoundPanel">
                                    <TextBlock
                                        Foreground="#D13438"
                                        Margin="0,0,0,12"
                                        Text="{local:Localize Key=Setup_Step2_NotFound}"
                                        TextWrapping="Wrap" />
                                    <Button
                                        Click="DownloadGitButton_Click"
                                        HorizontalAlignment="Left"
                                        Padding="12,8"
                                        Style="{StaticResource AccentButtonStyle}"
                                        x:Name="DownloadGitButton">
                                        <StackPanel Orientation="Horizontal">
                                            <FontIcon
                                                FontSize="12"
                                                Glyph="&#xE896;"
                                                Margin="0,0,6,0" />
                                            <TextBlock Text="{local:Localize Key=Setup_Step2_Button}" />
                                        </StackPanel>
                                    </Button>
                                </StackPanel>
                            </StackPanel>

                            <!--  Step 2 Collapsed Content  -->
                            <StackPanel
                                Grid.Column="2"
                                Grid.Row="1"
                                Margin="0,0,0,32"
                                VerticalAlignment="Center"
                                x:Name="Step2CollapsedContent">
                                <TextBlock
                                    FontWeight="SemiBold"
                                    Margin="0,0,0,4"
                                    Text="{local:Localize Key=Setup_Step2_Title}" />
                                <TextBlock
                                    Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                                    Text="{local:Localize Key=UI_GitVersionControl}"
                                    TextWrapping="Wrap" />
                            </StackPanel>

                            <!--  Step 3: Configure Git Identity  -->
                            <Grid
                                Grid.Column="0"
                                Grid.Row="2"
                                Height="48"
                                Width="48">
                                <Border
                                    Background="{ThemeResource ControlFillColorDefaultBrush}"
                                    CornerRadius="24"
                                    Height="48"
                                    Width="48" />
                                <Border
                                    Background="{ThemeResource SolidBackgroundFillColorTertiaryBrush}"
                                    CornerRadius="16"
                                    Height="32"
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Center"
                                    Width="32"
                                    x:Name="Step3Circle">
                                    <Grid>
                                        <TextBlock
                                            FontWeight="SemiBold"
                                            Foreground="White"
                                            HorizontalAlignment="Center"
                                            Text="3"
                                            VerticalAlignment="Center"
                                            x:Name="Step3NumberText" />
                                        <FontIcon
                                            FontSize="14"
                                            Foreground="White"
                                            Glyph="&#xE73E;"
                                            HorizontalAlignment="Center"
                                            VerticalAlignment="Center"
                                            Visibility="Collapsed"
                                            x:Name="Step3CheckIcon" />
                                    </Grid>
                                </Border>
                            </Grid>

                            <!--  Step 3 Full Content  -->
                            <StackPanel
                                Grid.Column="2"
                                Grid.Row="2"
                                Margin="0,0,0,32"
                                VerticalAlignment="Top"
                                Visibility="Collapsed"
                                x:Name="Step3Content">
                                <TextBlock
                                    FontWeight="SemiBold"
                                    Margin="0,0,0,4"
                                    Text="{local:Localize Key=Setup_Step3_Title}" />
                                <TextBlock
                                    Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                                    Margin="0,0,0,12"
                                    Text="{local:Localize Key=Setup_Step3_Description}"
                                    TextWrapping="Wrap" />

                                <!--  Git Configuration Panel with Border  -->
                                <Border
                                    Background="{ThemeResource CardBackgroundFillColorSecondaryBrush}"
                                    BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                                    BorderThickness="1"
                                    CornerRadius="8"
                                    Margin="0,0,0,12"
                                    Padding="16">
                                    <StackPanel>
                                        <!--  Git Identity Configuration  -->
                                        <StackPanel>
                                            <TextBlock
                                                FontWeight="SemiBold"
                                                Margin="0,0,0,8"
                                                Text="Configure Git Identity" />
                                            <TextBlock
                                                Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                                                Margin="0,0,0,12"
                                                Text="Set your name and email address for Git commits. This information will be used to identify you as the author of changes."
                                                TextWrapping="Wrap" />

                                            <!--  Current Git Status  -->
                                            <Border
                                                Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                                                CornerRadius="8"
                                                Margin="0,0,0,12"
                                                Padding="12"
                                                x:Name="GitConfigStatusPanel">
                                                <StackPanel>
                                                    <StackPanel Orientation="Horizontal" Margin="0,0,0,4">
                                                        <FontIcon
                                                            FontSize="16"
                                                            Foreground="#FF8C00"
                                                            Glyph="&#xE946;"
                                                            Margin="0,0,8,0"
                                                            x:Name="GitConfigStatusIcon" />
                                                        <TextBlock
                                                            Text="Git identity not configured"
                                                            VerticalAlignment="Center"
                                                            x:Name="GitConfigStatusText" />
                                                    </StackPanel>
                                                    <!--  Current Identity Display (when configured)  -->
                                                    <StackPanel Visibility="Collapsed" x:Name="CurrentIdentityPanel">
                                                        <TextBlock
                                                            FontSize="12"
                                                            Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                                                            Text="Current configuration:"
                                                            Margin="24,4,0,2" />
                                                        <TextBlock
                                                            FontSize="12"
                                                            Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                                                            Margin="24,0,0,2"
                                                            x:Name="CurrentUserNameText" />
                                                        <TextBlock
                                                            FontSize="12"
                                                            Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                                                            Margin="24,0,0,0"
                                                            x:Name="CurrentUserEmailText" />
                                                    </StackPanel>
                                                </StackPanel>
                                            </Border>

                                            <!--  Configuration Form  -->
                                            <StackPanel x:Name="GitConfigFormPanel">
                                                <Grid Margin="0,0,0,8">
                                                    <Grid.RowDefinitions>
                                                        <RowDefinition Height="Auto" />
                                                        <RowDefinition Height="Auto" />
                                                    </Grid.RowDefinitions>
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="Auto" />
                                                        <ColumnDefinition Width="*" />
                                                    </Grid.ColumnDefinitions>

                                                    <TextBlock
                                                        Grid.Column="0"
                                                        Grid.Row="0"
                                                        Margin="0,0,12,0"
                                                        Text="Full Name:"
                                                        VerticalAlignment="Center"
                                                        Width="80" />
                                                    <TextBox
                                                        Grid.Column="1"
                                                        Grid.Row="0"
                                                        PlaceholderText="Enter your full name"
                                                        x:Name="GitUserNameBox" />

                                                    <TextBlock
                                                        Grid.Column="0"
                                                        Grid.Row="1"
                                                        Margin="0,8,12,0"
                                                        Text="Email:"
                                                        VerticalAlignment="Center"
                                                        Width="80" />
                                                    <TextBox
                                                        Grid.Column="1"
                                                        Grid.Row="1"
                                                        Margin="0,8,0,0"
                                                        PlaceholderText="your.email@example.com"
                                                        x:Name="GitUserEmailBox" />
                                                </Grid>

                                                <!--  Validation Messages  -->
                                                <TextBlock
                                                    FontSize="12"
                                                    Foreground="#D13438"
                                                    Margin="0,4,0,8"
                                                    TextWrapping="Wrap"
                                                    Visibility="Collapsed"
                                                    x:Name="GitConfigValidationText" />

                                                <!--  Info Box  -->
                                                <Border
                                                    Background="#FFF4CE"
                                                    BorderBrush="#FFD700"
                                                    BorderThickness="1"
                                                    CornerRadius="4"
                                                    Margin="0,0,0,12"
                                                    Padding="8">
                                                    <StackPanel Orientation="Horizontal">
                                                        <FontIcon
                                                            FontSize="14"
                                                            Foreground="#B8860B"
                                                            Glyph="&#xE946;"
                                                            Margin="0,0,8,0" />
                                                        <TextBlock
                                                            FontSize="12"
                                                            Foreground="#8B4513"
                                                            Text="This information will be used to identify you in Git commit history. Use your real name and email address."
                                                            TextWrapping="Wrap" />
                                                    </StackPanel>
                                                </Border>
                                            </StackPanel>
                                        </StackPanel>

                                        <!--  Action Buttons  -->
                                        <StackPanel Margin="0,4,0,0" Orientation="Horizontal">
                                            <Button
                                                Click="SaveGitConfigButton_Click"
                                                HorizontalAlignment="Left"
                                                Margin="0,0,8,0"
                                                Padding="12,8"
                                                Style="{StaticResource AccentButtonStyle}"
                                                x:Name="SaveGitConfigButton">
                                                <StackPanel Orientation="Horizontal">
                                                    <FontIcon
                                                        FontSize="12"
                                                        Glyph="&#xE74E;"
                                                        Margin="0,0,6,0" />
                                                    <TextBlock Text="Save Configuration" />
                                                </StackPanel>
                                            </Button>
                                            <Button
                                                Click="TestGitConfigButton_Click"
                                                HorizontalAlignment="Left"
                                                Margin="0,0,8,0"
                                                Padding="12,8"
                                                x:Name="TestGitConfigButton">
                                                <StackPanel Orientation="Horizontal">
                                                    <FontIcon
                                                        FontSize="12"
                                                        Glyph="&#xE8A7;"
                                                        Margin="0,0,6,0" />
                                                    <TextBlock Text="Test Configuration" />
                                                </StackPanel>
                                            </Button>

                                        </StackPanel>
                                    </StackPanel>
                                </Border>
                            </StackPanel>

                            <!--  Step 3 Collapsed Content  -->
                            <StackPanel
                                Grid.Column="2"
                                Grid.Row="2"
                                Margin="0,0,0,32"
                                VerticalAlignment="Top"
                                x:Name="Step3CollapsedContent">
                                <TextBlock
                                    FontWeight="SemiBold"
                                    Margin="0,0,0,4"
                                    Text="{local:Localize Key=Setup_Step3_Title}" />
                                <TextBlock
                                    Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                                    Text="{local:Localize Key=UI_MarkChangesInGit}"
                                    TextWrapping="Wrap" />
                                <TextBlock
                                    FontWeight="SemiBold"
                                    Margin="0,4,0,0"
                                    Text="{local:Localize Key=UI_GitConfigured}"
                                    Visibility="Collapsed"
                                    x:Name="GitConfigCompletedText" />
                            </StackPanel>

                            <!--  Step 4: Connect to Code-Hosting Platform  -->
                            <Grid
                                Grid.Column="0"
                                Grid.Row="3"
                                Height="48"
                                Width="48">
                                <Border
                                    Background="{ThemeResource ControlFillColorDefaultBrush}"
                                    CornerRadius="24"
                                    Height="48"
                                    Width="48" />
                                <Border
                                    Background="{ThemeResource SolidBackgroundFillColorTertiaryBrush}"
                                    CornerRadius="16"
                                    Height="32"
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Center"
                                    Width="32"
                                    x:Name="Step4Circle">
                                    <Grid>
                                        <TextBlock
                                            FontWeight="SemiBold"
                                            Foreground="White"
                                            HorizontalAlignment="Center"
                                            Text="4"
                                            VerticalAlignment="Center"
                                            x:Name="Step4NumberText" />
                                        <FontIcon
                                            FontSize="14"
                                            Foreground="White"
                                            Glyph="&#xE73E;"
                                            HorizontalAlignment="Center"
                                            VerticalAlignment="Center"
                                            Visibility="Collapsed"
                                            x:Name="Step4CheckIcon" />
                                    </Grid>
                                </Border>
                            </Grid>

                            <!--  Step 4 Full Content  -->
                            <StackPanel
                                Grid.Column="2"
                                Grid.Row="3"
                                Margin="0,0,0,16"
                                VerticalAlignment="Top"
                                Visibility="Collapsed"
                                x:Name="Step4Content">
                                <TextBlock
                                    FontWeight="SemiBold"
                                    Margin="0,0,0,4"
                                    Text="{local:Localize Key=Setup_Step4_Title}" />
                                <TextBlock
                                    Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                                    Margin="0,0,0,12"
                                    Text="{local:Localize Key=Setup_Step4_Description}"
                                    TextWrapping="Wrap" />

                                <!--  Platform Selector with Border  -->
                                <Border
                                    Background="{ThemeResource CardBackgroundFillColorSecondaryBrush}"
                                    BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                                    BorderThickness="1"
                                    CornerRadius="8"
                                    Margin="0,0,0,12"
                                    Padding="16,4,16,16">
                                    <StackPanel>
                                        <SelectorBar SelectionChanged="PlatformSelector_SelectionChanged" x:Name="PlatformSelector">
                                            <SelectorBarItem
                                                IsSelected="True"
                                                Text="{local:Localize Key=Setup_GitHub}"
                                                x:Name="GitHubSelectorItem">
                                                <SelectorBarItem.Icon>
                                                    <ImageIcon
                                                        HorizontalAlignment="Center"
                                                        MaxHeight="22"
                                                        MaxWidth="22"
                                                        Source="../Assets/Icons/github.png" />
                                                </SelectorBarItem.Icon>
                                            </SelectorBarItem>
                                            <SelectorBarItem Text="{local:Localize Key=Setup_SelfHosting}" x:Name="SelfHostingSelectorItem">
                                                <SelectorBarItem.Icon>
                                                    <FontIcon Glyph="&#xEC27;" />
                                                </SelectorBarItem.Icon>
                                            </SelectorBarItem>
                                        </SelectorBar>

                                        <Rectangle
                                            Fill="#e1e1e1"
                                            Height="1"
                                            Margin="4,4,4,8" />

                                        <!--  Platform Configuration Content with Additional Indentation  -->
                                        <StackPanel Margin="16,16,0,0">
                                            <!--  GitHub Configuration  -->
                                            <StackPanel Visibility="Visible" x:Name="GitHubConfigPanel">
                                                <TextBlock
                                                    FontWeight="SemiBold"
                                                    Margin="0,0,0,8"
                                                    Text="Connect to GitHub" />
                                                <TextBlock
                                                    Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                                                    Margin="0,0,0,12"
                                                    Text="Sign in to your GitHub account to create and manage repositories for your Minecraft saves."
                                                    TextWrapping="Wrap" />

                                                <!--  GitHub Status  -->
                                                <Border
                                                    Background="{ThemeResource CardBackgroundFillColorSecondaryBrush}"
                                                    CornerRadius="8"
                                                    Margin="0,0,0,12"
                                                    Padding="12"
                                                    x:Name="GitHubStatusPanel">
                                                    <StackPanel Orientation="Horizontal">
                                                        <FontIcon
                                                            FontSize="16"
                                                            Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                                                            Glyph="&#xE946;"
                                                            Margin="0,0,8,0" />
                                                        <TextBlock
                                                            Text="Not connected"
                                                            VerticalAlignment="Center"
                                                            x:Name="GitHubStatusText" />
                                                    </StackPanel>
                                                </Border>

                                                <!--  Repository Settings  -->
                                                <StackPanel Visibility="Collapsed" x:Name="GitHubRepoSettings">
                                                    <TextBlock
                                                        FontWeight="SemiBold"
                                                        Margin="0,0,0,8"
                                                        Text="Repository Settings" />

                                                    <Grid Margin="0,0,0,8">
                                                        <Grid.ColumnDefinitions>
                                                            <ColumnDefinition Width="Auto" />
                                                            <ColumnDefinition Width="*" />
                                                        </Grid.ColumnDefinitions>
                                                        <TextBlock
                                                            Margin="0,0,8,0"
                                                            Text="Repository Name:"
                                                            VerticalAlignment="Center" />
                                                        <TextBox
                                                            Grid.Column="1"
                                                            PlaceholderText="minecraft-saves"
                                                            x:Name="GitHubRepoNameBox" />
                                                    </Grid>

                                                    <CheckBox
                                                        Content="Make repository private"
                                                        IsChecked="True"
                                                        x:Name="GitHubPrivateRepoBox" />
                                                </StackPanel>
                                            </StackPanel>

                                            <!--  Self-Hosting Configuration  -->
                                            <StackPanel
                                                Spacing="8"
                                                Visibility="Collapsed"
                                                x:Name="SelfHostingConfigPanel">
                                                <TextBlock FontWeight="SemiBold" Text="Self-Hosted Git Server" />
                                                <TextBlock
                                                    Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                                                    Text="Configure your own Git server (GitLab, Gitea, etc.) for managing your Minecraft saves."
                                                    TextWrapping="Wrap" />

                                                <Grid>
                                                    <Grid.RowDefinitions>
                                                        <RowDefinition Height="Auto" />
                                                        <RowDefinition Height="Auto" />
                                                        <RowDefinition Height="Auto" />
                                                        <RowDefinition Height="Auto" />
                                                    </Grid.RowDefinitions>
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="Auto" />
                                                        <ColumnDefinition Width="*" />
                                                    </Grid.ColumnDefinitions>

                                                    <TextBlock
                                                        Grid.Column="0"
                                                        Grid.Row="0"
                                                        Margin="0,0,8,0"
                                                        Text="Server URL:"
                                                        VerticalAlignment="Center" />
                                                    <TextBox
                                                        Grid.Column="1"
                                                        Grid.Row="0"
                                                        PlaceholderText="https://git.example.com"
                                                        x:Name="SelfHostingUrlBox" />

                                                    <TextBlock
                                                        Grid.Column="0"
                                                        Grid.Row="1"
                                                        Margin="0,8,8,0"
                                                        Text="Username:"
                                                        VerticalAlignment="Center" />
                                                    <TextBox
                                                        Grid.Column="1"
                                                        Grid.Row="1"
                                                        Margin="0,8,0,0"
                                                        PlaceholderText="Your username"
                                                        x:Name="SelfHostingUsernameBox" />

                                                    <TextBlock
                                                        Grid.Column="0"
                                                        Grid.Row="2"
                                                        Margin="0,8,8,0"
                                                        Text="Access Token:"
                                                        VerticalAlignment="Center" />
                                                    <PasswordBox
                                                        Grid.Column="1"
                                                        Grid.Row="2"
                                                        Margin="0,8,0,0"
                                                        PlaceholderText="Personal access token"
                                                        x:Name="SelfHostingTokenBox" />

                                                    <Button
                                                        Click="TestConnectionButton_Click"
                                                        Content="Test Connection"
                                                        Grid.Column="0"
                                                        Grid.ColumnSpan="2"
                                                        Grid.Row="3"
                                                        HorizontalAlignment="Left"
                                                        Margin="0,12,0,0"
                                                        x:Name="TestConnectionButton" />
                                                </Grid>
                                            </StackPanel>
                                        </StackPanel>

                                        <!--  Action Buttons  -->
                                        <StackPanel Margin="0,16,0,0" Orientation="Horizontal">
                                            <Button
                                                Click="ConnectPlatformButton_Click"
                                                HorizontalAlignment="Left"
                                                Margin="0,0,8,0"
                                                Padding="12,8"
                                                Style="{StaticResource AccentButtonStyle}"
                                                x:Name="ConnectPlatformButton">
                                                <StackPanel Orientation="Horizontal">
                                                    <FontIcon
                                                        FontSize="12"
                                                        Glyph="&#xE8A7;"
                                                        Margin="0,0,6,0" />
                                                    <TextBlock Text="{local:Localize Key=Setup_Step4_Connect}" />
                                                </StackPanel>
                                            </Button>
                                            <Button
                                                Click="UseLocallyButton_Click"
                                                HorizontalAlignment="Left"
                                                Padding="12,8"
                                                x:Name="UseLocallyButton">
                                                <StackPanel Orientation="Horizontal">
                                                    <FontIcon
                                                        FontSize="12"
                                                        Glyph="&#xE8B7;"
                                                        Margin="0,0,6,0" />
                                                    <TextBlock Text="{local:Localize Key=Setup_Step4_UseLocally}" />
                                                </StackPanel>
                                            </Button>
                                        </StackPanel>
                                    </StackPanel>
                                </Border>
                            </StackPanel>

                            <!--  Step 4 Collapsed Content  -->
                            <StackPanel
                                Grid.Column="2"
                                Grid.Row="3"
                                Margin="0,0,0,32"
                                VerticalAlignment="Top"
                                x:Name="Step4CollapsedContent">
                                <TextBlock
                                    FontWeight="SemiBold"
                                    Margin="0,0,0,4"
                                    Text="{local:Localize Key=Setup_Step4_Title}" />
                                <TextBlock
                                    Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                                    Text="{local:Localize Key=Setup_Step4_DescriptionShort}"
                                    TextWrapping="Wrap" />
                                <TextBlock
                                    FontWeight="SemiBold"
                                    Margin="0,4,0,0"
                                    Text="{local:Localize Key=UI_RepoConfigured}"
                                    Visibility="Collapsed"
                                    x:Name="RepoSetupCompletedText" />
                            </StackPanel>

                            <!--  Step 5: Add Your Save  -->
                            <Grid
                                Grid.Column="0"
                                Grid.Row="4"
                                Height="48"
                                Width="48">
                                <Border
                                    Background="{ThemeResource ControlFillColorDefaultBrush}"
                                    CornerRadius="24"
                                    Height="48"
                                    Width="48" />
                                <Border
                                    Background="{ThemeResource SolidBackgroundFillColorTertiaryBrush}"
                                    CornerRadius="16"
                                    Height="32"
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Center"
                                    Width="32"
                                    x:Name="Step5Circle">
                                    <Grid>
                                        <TextBlock
                                            FontWeight="SemiBold"
                                            Foreground="White"
                                            HorizontalAlignment="Center"
                                            Text="5"
                                            VerticalAlignment="Center"
                                            x:Name="Step5NumberText" />
                                        <FontIcon
                                            FontSize="14"
                                            Foreground="White"
                                            Glyph="&#xE73E;"
                                            HorizontalAlignment="Center"
                                            VerticalAlignment="Center"
                                            Visibility="Collapsed"
                                            x:Name="Step5CheckIcon" />
                                    </Grid>
                                </Border>
                            </Grid>

                            <!--  Step 5 Full Content  -->
                            <StackPanel
                                Grid.Column="2"
                                Grid.Row="4"
                                VerticalAlignment="Top"
                                Visibility="Collapsed"
                                x:Name="Step5Content">
                                <TextBlock
                                    FontWeight="SemiBold"
                                    Margin="0,0,0,4"
                                    Text="{local:Localize Key=Setup_Step5_Title}" />
                                <TextBlock
                                    Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                                    Margin="0,0,0,12"
                                    Text="{local:Localize Key=Setup_Step5_Description}"
                                    TextWrapping="Wrap" />

                                <!--  Add Save Buttons  -->
                                <StackPanel Orientation="Horizontal">
                                    <Button
                                        Click="AddSaveButton_Click"
                                        HorizontalAlignment="Left"
                                        Margin="0,0,8,0"
                                        Padding="12,8"
                                        Style="{StaticResource AccentButtonStyle}"
                                        x:Name="AddSaveButton">
                                        <StackPanel Orientation="Horizontal">
                                            <FontIcon
                                                FontSize="12"
                                                Glyph="&#xE710;"
                                                Margin="0,0,6,0" />
                                            <TextBlock Text="{local:Localize Key=Setup_Step5_AddSave}" />
                                        </StackPanel>
                                    </Button>
                                    <Button
                                        Click="AddVersionFolderButton_Click"
                                        HorizontalAlignment="Left"
                                        Padding="12,8"
                                        x:Name="AddVersionFolderButton">
                                        <StackPanel Orientation="Horizontal">
                                            <FontIcon
                                                FontSize="12"
                                                Glyph="&#xE8B7;"
                                                Margin="0,0,6,0" />
                                            <TextBlock Text="{local:Localize Key=Setup_Step5_AddVersionFolder}" />
                                        </StackPanel>
                                    </Button>
                                </StackPanel>
                            </StackPanel>

                            <!--  Step 5 Collapsed Content  -->
                            <StackPanel
                                Grid.Column="2"
                                Grid.Row="4"
                                VerticalAlignment="Top"
                                x:Name="Step5CollapsedContent">
                                <TextBlock
                                    FontWeight="SemiBold"
                                    Margin="0,0,0,4"
                                    Text="{local:Localize Key=Setup_Step5_Title}" />
                                <TextBlock
                                    Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                                    Text="{local:Localize Key=Setup_Step5_DescriptionShort}"
                                    TextWrapping="Wrap" />
                                <TextBlock
                                    FontWeight="SemiBold"
                                    Margin="0,4,0,0"
                                    Text="{local:Localize Key=UI_ReadyToUse}"
                                    Visibility="Collapsed"
                                    x:Name="UsageModeCompletedText" />
                            </StackPanel>
                        </Grid>
                    </StackPanel>
                </Border>

                <!--  Right Panel - Enhanced System Status  -->
                <Border
                    Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                    BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                    BorderThickness="1"
                    CornerRadius="12"
                    Grid.Column="2"
                    Padding="24">
                    <StackPanel>
                        <StackPanel Margin="0,0,0,20" Orientation="Horizontal">
                            <FontIcon
                                FontSize="18"
                                Glyph="&#xE770;"
                                Margin="0,0,12,0" />
                            <TextBlock
                                FontSize="18"
                                FontWeight="SemiBold"
                                Text="{local:Localize Key=UI_SystemStatus}"
                                VerticalAlignment="Center" />
                        </StackPanel>

                        <!--  Overall Progress  -->
                        <Border
                            Background="{ThemeResource CardBackgroundFillColorSecondaryBrush}"
                            BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                            BorderThickness="1"
                            CornerRadius="8"
                            Margin="0,0,0,20"
                            Padding="16">
                            <StackPanel>
                                <TextBlock
                                    FontSize="14"
                                    FontWeight="SemiBold"
                                    Margin="0,0,0,8"
                                    Text="{local:Localize Key=UI_SetupProgress}" />
                                <ProgressBar
                                    Height="6"
                                    Margin="0,0,0,8"
                                    Value="20"
                                    x:Name="OverallProgressBar" />
                                <TextBlock
                                    FontSize="12"
                                    Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                                    Text="{local:Localize Key=Setup_Progress}"
                                    TextAlignment="Center"
                                    x:Name="ProgressText" />
                            </StackPanel>
                        </Border>

                        <!--  Git Installation Status  -->
                        <Border
                            Background="{ThemeResource CardBackgroundFillColorSecondaryBrush}"
                            BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                            BorderThickness="1"
                            CornerRadius="8"
                            Margin="0,0,0,16"
                            Padding="16">
                            <StackPanel>
                                <StackPanel Margin="0,0,0,8" Orientation="Horizontal">
                                    <Border
                                        Background="#107C10"
                                        CornerRadius="10"
                                        Height="20"
                                        Margin="0,0,12,0"
                                        Width="20"
                                        x:Name="GitStatusIcon">
                                        <FontIcon
                                            FontSize="10"
                                            Foreground="White"
                                            Glyph="&#xE73E;"
                                            HorizontalAlignment="Center"
                                            VerticalAlignment="Center" />
                                    </Border>
                                    <TextBlock
                                        FontSize="14"
                                        FontWeight="SemiBold"
                                        Text="{local:Localize Key=Status_GitInstallation}"
                                        VerticalAlignment="Center" />
                                </StackPanel>
                                <TextBlock
                                    FontSize="12"
                                    Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                                    Text="{local:Localize Key=UI_CheckingGitInstallation}"
                                    TextWrapping="Wrap"
                                    x:Name="GitStatusText" />
                            </StackPanel>
                        </Border>

                        <!--  Git Identity Status  -->
                        <Border
                            Background="{ThemeResource CardBackgroundFillColorSecondaryBrush}"
                            BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                            BorderThickness="1"
                            CornerRadius="8"
                            Margin="0,0,0,16"
                            Padding="16">
                            <StackPanel>
                                <StackPanel Margin="0,0,0,8" Orientation="Horizontal">
                                    <Border
                                        Background="#FF8C00"
                                        CornerRadius="10"
                                        Height="20"
                                        Margin="0,0,12,0"
                                        Width="20"
                                        x:Name="GitIdentityStatusIcon">
                                        <FontIcon
                                            FontSize="10"
                                            Foreground="White"
                                            Glyph="&#xE7BA;"
                                            HorizontalAlignment="Center"
                                            VerticalAlignment="Center" />
                                    </Border>
                                    <TextBlock
                                        FontSize="14"
                                        FontWeight="SemiBold"
                                        Text="{local:Localize Key=Status_GitIdentity}"
                                        VerticalAlignment="Center" />
                                </StackPanel>
                                <TextBlock
                                    FontSize="12"
                                    Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                                    Text="{local:Localize Key=Status_NotConfigured}"
                                    TextWrapping="Wrap"
                                    x:Name="GitIdentityStatusText" />
                            </StackPanel>
                        </Border>

                        <!--  Platform Connection Status  -->
                        <Border
                            Background="{ThemeResource CardBackgroundFillColorSecondaryBrush}"
                            BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                            BorderThickness="1"
                            CornerRadius="8"
                            Margin="0,0,0,16"
                            Padding="16">
                            <StackPanel>
                                <StackPanel Margin="0,0,0,8" Orientation="Horizontal">
                                    <Border
                                        Background="#FF8C00"
                                        CornerRadius="10"
                                        Height="20"
                                        Margin="0,0,12,0"
                                        Width="20"
                                        x:Name="PlatformStatusIcon">
                                        <FontIcon
                                            FontSize="10"
                                            Foreground="White"
                                            Glyph="&#xE8A7;"
                                            HorizontalAlignment="Center"
                                            VerticalAlignment="Center" />
                                    </Border>
                                    <TextBlock
                                        FontSize="14"
                                        FontWeight="SemiBold"
                                        Text="{local:Localize Key=UI_PlatformConnection}"
                                        VerticalAlignment="Center" />
                                </StackPanel>
                                <TextBlock
                                    FontSize="12"
                                    Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                                    Text="{local:Localize Key=Status_NotConnected}"
                                    TextWrapping="Wrap"
                                    x:Name="PlatformStatusText" />
                            </StackPanel>
                        </Border>
                    </StackPanel>
                </Border>
            </Grid>

            <!--  Loading Panel (Hidden by default)  -->
            <Grid
                Background="#40000000"
                Grid.RowSpan="3"
                Visibility="Collapsed"
                x:Name="LoadingPanel">
                <Border
                    Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                    CornerRadius="8"
                    HorizontalAlignment="Center"
                    Padding="32"
                    VerticalAlignment="Center">
                    <StackPanel>
                        <ProgressBar
                            Height="8"
                            IsIndeterminate="False"
                            Margin="0,0,0,16"
                            Width="200"
                            x:Name="LoadingProgressRing" />
                        <TextBlock HorizontalAlignment="Center" Text="{local:Localize Key=Error_AnalyzingSave}" />
                    </StackPanel>
                </Border>
            </Grid>
        </Grid>
    </ScrollViewer>
</Page>
